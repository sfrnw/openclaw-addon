# ü¶û OpenClaw Add-on ‚Äî –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–î–ª—è Home Assistant OS –Ω–∞ Raspberry Pi 5**

---

## üìã –ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å

- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å** Qwen Coder (–Ω–µ –Ω—É–∂–µ–Ω API –∫–ª—é—á)
- ‚úÖ **Telegram –±–æ—Ç** –¥–ª—è –æ–±—â–µ–Ω–∏—è
- ‚úÖ **Web UI** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Home Assistant** (—á–µ—Ä–µ–∑ API)

---

## üîß –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤—å Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π Telegram
2. –ù–∞–π–¥–∏ **@BotFather**
3. –ù–∞–ø–∏—à–∏ `/newbot`
4. –ü—Ä–∏–¥—É–º–∞–π –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `My Assistant Bot`)
5. –ü—Ä–∏–¥—É–º–∞–π username (–Ω–∞–ø—Ä–∏–º–µ—Ä: `my_home_assistant_bot`)
6. –°–∫–æ–ø–∏—Ä—É–π **—Ç–æ–∫–µ–Ω** (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

---

## üì¶ –®–∞–≥ 2: –î–æ–±–∞–≤—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∞–¥–¥–æ–Ω–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ UI (–µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω)

1. –û—Ç–∫—Ä–æ–π Home Assistant
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Üí **–ú–∞–≥–∞–∑–∏–Ω –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π**
3. –ù–∞–∂–º–∏ **‚ãÆ** (—Ç—Ä–∏ —Ç–æ—á–∫–∏ —Å–ø—Ä–∞–≤–∞ —Å–≤–µ—Ä—Ö—É)
4. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å**
5. –í—Å—Ç–∞–≤—å URL: `https://github.com/sfrnw/openclaw-addon`
6. **–î–æ–±–∞–≤–∏—Ç—å**

### –í–∞—Ä–∏–∞–Ω—Ç B: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

1. **–í–∫–ª—é—á–∏ SSH** –≤ Home Assistant:
   - **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Üí **–ú–∞–≥–∞–∑–∏–Ω**
   - –ù–∞–π–¥–∏ **Terminal & SSH**
   - –£—Å—Ç–∞–Ω–æ–≤–∏ –∏ –∑–∞–ø—É—Å—Ç–∏

2. **–ü–æ–¥–∫–ª—é—á–∏—Å—å –ø–æ SSH** –∫ Pi:
   ```bash
   ssh root@homeassistant.local
   # –∏–ª–∏ –ø–æ IP: ssh root@192.168.1.XXX
   ```

3. **–°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª—ã –∞–¥–¥–æ–Ω–∞**:
   ```bash
   # –°–æ–∑–¥–∞–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞–¥–¥–æ–Ω–æ–≤
   mkdir -p /addon_configs/local_openclaw
   
   # –°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ —Å–∫–∞—á–∞–ª –Ω–∞ Mac)
   # –ò–ª–∏ —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é (—Å–º. –Ω–∏–∂–µ)
   ```

---

## üöÄ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏ –∞–¥–¥–æ–Ω

### –ß–µ—Ä–µ–∑ UI (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è):

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Üí **–ú–∞–≥–∞–∑–∏–Ω**
2. –ù–∞–π–¥–∏ **OpenClaw AI Assistant**
3. –ù–∞–∂–º–∏ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å**
4. –î–æ–∂–¥–∏—Å—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (~1-2 –º–∏–Ω—É—Ç—ã)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
2. –ó–∞–ø–æ–ª–Ω–∏:
   ```
   telegram_token: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz
   ```
3. –ù–∞–∂–º–∏ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**

---

## ‚ñ∂Ô∏è –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
2. –ù–∞–∂–º–∏ **–ó–∞–ø—É—Å—Ç–∏—Ç—å**
3. **–ü–æ–¥–æ–∂–¥–∏ 30-60 —Å–µ–∫—É–Ω–¥** (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª—å—à–µ)

---

## üìä –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏

1. –í–∫–ª–∞–¥–∫–∞ **–ñ—É—Ä–Ω–∞–ª** (Logs)
2. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ:
   ```
   ü¶û Starting OpenClaw...
   üìù No config found, generating config with Qwen (free model)...
   ‚úÖ Config generated with Qwen (free model)
   üì± Updating Telegram configuration...
   ‚úÖ Telegram configured
   ü¶û OpenClaw is ready!
   üîë Gateway Token: abc123...
   üåê Web UI: http://172.30.33.X:18789
   ```

**–°–∫–æ–ø–∏—Ä—É–π Gateway Token** ‚Äî –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è!

---

## üåê –®–∞–≥ 6: –û—Ç–∫—Ä–æ–π Web UI

1. –í–∫–ª–∞–¥–∫–∞ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
2. –ù–∞–∂–º–∏ **–û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä–µ—Å** (Open Web UI)
3. –ò–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://homeassistant.local:18789`

---

## üîê –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π –∫–∞–Ω–∞–ª—ã –≤ Web UI

1. –í Web UI –≤—Å—Ç–∞–≤—å **Gateway Token** (–∏–∑ –ª–æ–≥–æ–≤)
2. –ù–∞–∂–º–∏ **Connect**
3. –ü–µ—Ä–µ–π–¥–∏ –≤ **Channels**
4. **Telegram** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ —É–∫–∞–∑–∞–ª —Ç–æ–∫–µ–Ω)

### –ù–∞—Å—Ç—Ä–æ–π allowlist (–∫—Ç–æ –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –±–æ—Ç—É):

1. –í Web UI: **Credentials** ‚Üí **Telegram**
2. –î–æ–±–∞–≤—å —Å–≤–æ–π Telegram ID
3. **–ö–∞–∫ —É–∑–Ω–∞—Ç—å ID:**
   - –í Telegram –Ω–∞–π–¥–∏ @userinfobot
   - –ù–∞–ø–∏—à–∏ –µ–º—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û–Ω –≤–µ—Ä–Ω—ë—Ç —Ç–≤–æ–π ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `885810`)

---

## üì± –®–∞–≥ 8: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤ Telegram

1. –û—Ç–∫—Ä–æ–π —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–ø–∏—à–∏ `/start`
3. –ù–∞–ø–∏—à–∏ `–ø—Ä–∏–≤–µ—Ç`
4. –î–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç!

---

## üêõ Troubleshooting

### –ê–¥–¥–æ–Ω –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:**
```bash
# –ß–µ—Ä–µ–∑ SSH
ha addons logs openclaw
```

**–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**

| –û—à–∏–±–∫–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|
| `address already in use` | –ü–æ—Ä—Ç 18789 –∑–∞–Ω—è—Ç. –ò–∑–º–µ–Ω–∏ –≤ `config.json` |
| `permission denied` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∞–¥–¥–æ–Ω |
| `npm not found` | –ü–æ–¥–æ–∂–¥–∏, –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª–≥–∏–π |

### Telegram –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω** –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–¥–¥–æ–Ω–∞
2. **–ü—Ä–æ–≤–µ—Ä—å allowlist** ‚Äî —Ç–≤–æ–π ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–º
3. **–ù–∞–ø–∏—à–∏ /start** –≤ Telegram —Å–Ω–∞—á–∞–ª–∞
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∞–¥–¥–æ–Ω**

### "No model configured"

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –∫–æ–Ω—Ñ–∏–≥–µ –Ω–µ—Ç –º–æ–¥–µ–ª–∏.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Å—Ç–∞–Ω–æ–≤–∏ –∞–¥–¥–æ–Ω
2. –ß–µ—Ä–µ–∑ SSH —É–¥–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥:
   ```bash
   rm /addon_configs/openclaw/data/openclaw.json
   ```
3. –ó–∞–ø—É—Å—Ç–∏ –∞–¥–¥–æ–Ω —Å–Ω–æ–≤–∞ ‚Äî —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å Qwen

### Web UI –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∞–¥–¥–æ–Ω –∑–∞–ø—É—â–µ–Ω
2. –ü–æ–ø—Ä–æ–±—É–π –ø–æ IP: `http://192.168.1.XXX:18789`
3. –ü—Ä–æ–≤–µ—Ä—å firewall –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–ê–¥–¥–æ–Ω —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤:
```
/addon_configs/openclaw/data/
‚îú‚îÄ‚îÄ openclaw.json          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ gateway_token.txt      # –¢–æ–∫–µ–Ω –¥–ª—è Web UI
‚îú‚îÄ‚îÄ credentials/           # –¢–æ–∫–µ–Ω—ã –∫–∞–Ω–∞–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ telegram-allowFrom.json
‚îî‚îÄ‚îÄ workspace/
    ‚îî‚îÄ‚îÄ memory/            # –ü–∞–º—è—Ç—å –∞–≥–µ–Ω—Ç–∞
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Üí **OpenClaw**
2. –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Äî –±—É–¥–µ—Ç –∫–Ω–æ–ø–∫–∞ **–û–±–Ω–æ–≤–∏—Ç—å**
3. –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
   ```bash
   ha addons reload
   ha addons update openclaw
   ha addons restart openclaw
   ```

---

## ‚öôÔ∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥—Ä—É–≥—É—é)

–ß–µ—Ä–µ–∑ SSH –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥:
```bash
ha addons exec openclaw --command "cat /data/openclaw.json"
```

### –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ (OpenAI, Google)

1. –û—Å—Ç–∞–Ω–æ–≤–∏ –∞–¥–¥–æ–Ω
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `/addon_configs/openclaw/data/openclaw.json`
3. –î–æ–±–∞–≤—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤ `models.providers`
4. –ó–∞–ø—É—Å—Ç–∏ –∞–¥–¥–æ–Ω

### –ë—ç–∫–∞–ø

```bash
# –ß–µ—Ä–µ–∑ SSH
tar -czf openclaw-backup.tar.gz /addon_configs/openclaw/data/
```

---

## üìû –ö–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ SSH

```bash
# –°—Ç–∞—Ç—É—Å –∞–¥–¥–æ–Ω–∞
ha addons info openclaw

# –õ–æ–≥–∏
ha addons logs openclaw

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
ha addons restart openclaw

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏
ha addons exec openclaw --command "openclaw --help"
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] –ê–¥–¥–æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Telegram —Ç–æ–∫–µ–Ω —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –ê–¥–¥–æ–Ω –∑–∞–ø—É—â–µ–Ω (–∑–µ–ª—ë–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ "ü¶û OpenClaw is ready!"
- [ ] Gateway Token —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] Web UI –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] Telegram –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`
- [ ] Telegram –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

---

**–ì–æ—Ç–æ–≤–æ!** ü¶û –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤ Home Assistant!
